{"id":"Ikhp","dependencies":[{"name":"/project/bicycle-parking/package.json","includedInParent":true,"mtime":1664274845547},{"name":"./index","loc":{"line":1,"column":45,"index":45},"parent":"/project/bicycle-parking/src/Agent.js","resolved":"/project/bicycle-parking/src/index.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var t=require(\"./index\");function e(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function a(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i(t,e,i){return e&&a(t.prototype,e),i&&a(t,i),Object.defineProperty(t,\"prototype\",{writable:!1}),t}var s=function(){function a(t,i,s,h){e(this,a),this.world=t,this.type=i,this.spawn=s,this.cell=s,this.parked_cell=null,this.strategy=h,this.move_to=null,this.exitRate=.01,this.path=null,this.calculatingPath=!1,this.stage=\"SPAWN\",this.ticks=0,this.ticks_to_parked=null,this.ticks_to_goal=null}return i(a,[{key:\"respawn\",value:function(){this.stage=\"SPAWN\",this.cell=this.spawn,this.parked_cell=null,this.move_to=null,this.path=null,this.calculatingPath=!1,this.ticks=0,this.ticks_to_parked=null,this.ticks_to_goal=null}},{key:\"getPathfinder\",value:function(){return\"BIKE\"===this.type?this.world.bikePathfinder:this.world.pedestrianPathfinder}},{key:\"hasParked\",value:function(){this.ticks_to_parked=this.ticks,(0,t.addTimeToPark)(this.strategy,this.ticks_to_parked)}},{key:\"hasReachedGoal\",value:function(){this.ticks_to_goal=this.ticks,(0,t.addTimeToGoal)(this.strategy,this.ticks_to_goal)}},{key:\"park\",value:function(t){return!(!this.cell.canPark()||\"BIKE\"!==this.type||\"PARKING\"!==this.cell.type||null!==this.parked_cell)&&(this.parked_cell=this.cell,this.type=\"PEDESTRIAN\",this.cell.addBike(),this.world.addLotCapacity(t),this.hasParked(),!0)}},{key:\"unpark\",value:function(t){\"PEDESTRIAN\"===this.type&&\"PARKING\"===this.cell.type&&null!==this.parked_cell&&(this.cell.removeBike(),this.world.removeLotCapacity(t),this.parked_cell=null,this.type=\"BIKE\")}},{key:\"changeMoveTo\",value:function(t,e,a){var i=this;this.calculatingPath=!0,this.move_to=[t,e],this.path=null;var s=this.getPathfinder();s.findPath(this.cell.x,this.cell.y,this.move_to[0],this.move_to[1],function(t){null!==t?i.path=t:console.log(\"Agent has no way to reach its goal\"),i.calculatingPath=!1,a&&null!==t&&a()}),s.calculate()}},{key:\"makeMove\",value:function(t){t.checkAddAgent(this)&&(this.world.moveAgent(this,t),this.path.shift())}},{key:\"executePathSequence\",value:function(t){if(0==this.calculatingPath&&null!==this.path&&this.path.length>0){var e=this.world.getCellAtCoordinates(this.path[0].x,this.path[0].y);this.makeMove(e)}else 0==this.calculatingPath&&t()}},{key:\"finishedParkingStages\",value:function(){var t=this;switch(this.stage){case\"LEAVING_PARKING\":var e=this.world.getRandomCellOfType(\"BUILDING_ENTRANCE\");this.changeMoveTo(e.x,e.y,function(){t.stage=\"MOVING_TO_GOAL\"});break;case\"MOVING_TO_GOAL\":this.executePathSequence(function(){t.stage=\"IN_GOAL\",t.hasReachedGoal()});break;case\"IN_GOAL\":Math.random()<this.exitRate&&(this.stage=\"LEAVING_GOAL\");break;case\"LEAVING_GOAL\":this.changeMoveTo(this.parked_cell.x,this.parked_cell.y,function(){t.stage=\"MOVING_TO_PARKING_LEAVING\"});break;case\"MOVING_TO_PARKING_LEAVING\":this.executePathSequence(function(){t.stage=\"UNPARKING\"});break;case\"UNPARKING\":this.unpark(this.lotChoice),this.stage=\"LEAVING\";break;case\"LEAVING\":this.changeMoveTo(this.spawn.x,this.spawn.y,function(){t.stage=\"MOVING_TO_EXIT\"});break;case\"MOVING_TO_EXIT\":this.executePathSequence(function(){t.stage=\"DESPAWN\"});break;case\"DESPAWN\":this.stage=\"SPAWN\",this.world.removeAgent(this);break;default:console.log(\"Unknown stage: \",this.stage)}}},{key:\"startAct\",value:function(){this.ticks+=1}},{key:\"act\",value:function(){console.warn(\"Agent.act() should be overridden\")}}]),a}(),h=s;exports.default=h;"},"sourceMaps":{"js":{"mappings":[{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":0}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":13}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":20}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":35}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":43}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":56}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":57}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":64}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":68}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":76}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":89}},{"source":"src/Agent.js","original":{"line":1,"column":0},"generated":{"line":1,"column":91}},{"source":"src/Agent.js","original":{"line":1,"column":0},"generated":{"line":1,"column":95}},{"source":"src/Agent.js","original":{"line":1,"column":0},"generated":{"line":1,"column":97}},{"source":"src/Agent.js","original":{"line":1,"column":0},"generated":{"line":1,"column":105}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":116}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":125}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":127}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":129}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":132}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":137}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":150}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":153}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":159}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":163}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":173}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":210}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":219}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":221}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":223}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":226}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":230}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":234}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":236}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":238}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":240}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":242}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":249}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":253}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":254}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":258}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":260}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":262}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":265}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":267}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":278}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":280}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":293}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":295}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":297}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":311}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":313}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":323}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":327}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":329}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":339}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":342}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":349}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":364}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":366}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":368}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":372}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":376}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":385}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":387}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":389}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":391}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":394}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":401}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":404}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":406}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":408}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":418}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":421}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":424}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":426}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":428}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":431}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":438}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":453}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":455}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":467}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":468}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":478}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":482}},{"source":"src/Agent.js","name":"Agent","original":{"line":3,"column":6},"generated":{"line":1,"column":484}},{"source":"src/Agent.js","name":"Agent","original":{"line":3,"column":6},"generated":{"line":1,"column":488}},{"source":"src/Agent.js","name":"Agent","original":{"line":3,"column":6},"generated":{"line":1,"column":490}},{"source":"src/Agent.js","original":{"line":4,"column":2},"generated":{"line":1,"column":501}},{"source":"src/Agent.js","name":"world","original":{"line":4,"column":14},"generated":{"line":1,"column":510}},{"source":"src/Agent.js","name":"world","original":{"line":4,"column":14},"generated":{"line":1,"column":512}},{"source":"src/Agent.js","name":"type","original":{"line":4,"column":21},"generated":{"line":1,"column":514}},{"source":"src/Agent.js","name":"cell","original":{"line":4,"column":27},"generated":{"line":1,"column":516}},{"source":"src/Agent.js","name":"strategy","original":{"line":4,"column":33},"generated":{"line":1,"column":518}},{"source":"src/Agent.js","original":{"line":4,"column":43},"generated":{"line":1,"column":521}},{"source":"src/Agent.js","original":{"line":4,"column":43},"generated":{"line":1,"column":523}},{"source":"src/Agent.js","original":{"line":4,"column":43},"generated":{"line":1,"column":528}},{"source":"src/Agent.js","original":{"line":5,"column":4},"generated":{"line":1,"column":531}},{"source":"src/Agent.js","name":"world","original":{"line":5,"column":9},"generated":{"line":1,"column":536}},{"source":"src/Agent.js","name":"world","original":{"line":5,"column":17},"generated":{"line":1,"column":542}},{"source":"src/Agent.js","original":{"line":6,"column":4},"generated":{"line":1,"column":544}},{"source":"src/Agent.js","name":"type","original":{"line":6,"column":9},"generated":{"line":1,"column":549}},{"source":"src/Agent.js","name":"type","original":{"line":6,"column":16},"generated":{"line":1,"column":554}},{"source":"src/Agent.js","original":{"line":7,"column":4},"generated":{"line":1,"column":556}},{"source":"src/Agent.js","name":"spawn","original":{"line":7,"column":9},"generated":{"line":1,"column":561}},{"source":"src/Agent.js","name":"cell","original":{"line":7,"column":17},"generated":{"line":1,"column":567}},{"source":"src/Agent.js","original":{"line":8,"column":4},"generated":{"line":1,"column":569}},{"source":"src/Agent.js","name":"cell","original":{"line":8,"column":9},"generated":{"line":1,"column":574}},{"source":"src/Agent.js","name":"cell","original":{"line":8,"column":16},"generated":{"line":1,"column":579}},{"source":"src/Agent.js","original":{"line":9,"column":4},"generated":{"line":1,"column":581}},{"source":"src/Agent.js","name":"parked_cell","original":{"line":9,"column":9},"generated":{"line":1,"column":586}},{"source":"src/Agent.js","original":{"line":9,"column":23},"generated":{"line":1,"column":598}},{"source":"src/Agent.js","original":{"line":10,"column":4},"generated":{"line":1,"column":603}},{"source":"src/Agent.js","name":"strategy","original":{"line":10,"column":9},"generated":{"line":1,"column":608}},{"source":"src/Agent.js","name":"strategy","original":{"line":10,"column":20},"generated":{"line":1,"column":617}},{"source":"src/Agent.js","original":{"line":11,"column":4},"generated":{"line":1,"column":619}},{"source":"src/Agent.js","name":"move_to","original":{"line":11,"column":9},"generated":{"line":1,"column":624}},{"source":"src/Agent.js","original":{"line":11,"column":19},"generated":{"line":1,"column":632}},{"source":"src/Agent.js","original":{"line":12,"column":4},"generated":{"line":1,"column":637}},{"source":"src/Agent.js","name":"exitRate","original":{"line":12,"column":9},"generated":{"line":1,"column":642}},{"source":"src/Agent.js","original":{"line":12,"column":20},"generated":{"line":1,"column":651}},{"source":"src/Agent.js","original":{"line":16,"column":4},"generated":{"line":1,"column":655}},{"source":"src/Agent.js","name":"path","original":{"line":16,"column":9},"generated":{"line":1,"column":660}},{"source":"src/Agent.js","original":{"line":16,"column":16},"generated":{"line":1,"column":665}},{"source":"src/Agent.js","original":{"line":17,"column":4},"generated":{"line":1,"column":670}},{"source":"src/Agent.js","name":"calculatingPath","original":{"line":17,"column":9},"generated":{"line":1,"column":675}},{"source":"src/Agent.js","original":{"line":17,"column":27},"generated":{"line":1,"column":692}},{"source":"src/Agent.js","original":{"line":18,"column":4},"generated":{"line":1,"column":694}},{"source":"src/Agent.js","name":"stage","original":{"line":18,"column":9},"generated":{"line":1,"column":699}},{"source":"src/Agent.js","original":{"line":18,"column":17},"generated":{"line":1,"column":705}},{"source":"src/Agent.js","original":{"line":20,"column":4},"generated":{"line":1,"column":713}},{"source":"src/Agent.js","name":"ticks","original":{"line":20,"column":9},"generated":{"line":1,"column":718}},{"source":"src/Agent.js","original":{"line":20,"column":17},"generated":{"line":1,"column":724}},{"source":"src/Agent.js","original":{"line":21,"column":4},"generated":{"line":1,"column":726}},{"source":"src/Agent.js","name":"ticks_to_parked","original":{"line":21,"column":9},"generated":{"line":1,"column":731}},{"source":"src/Agent.js","original":{"line":21,"column":27},"generated":{"line":1,"column":747}},{"source":"src/Agent.js","original":{"line":22,"column":4},"generated":{"line":1,"column":752}},{"source":"src/Agent.js","name":"ticks_to_goal","original":{"line":22,"column":9},"generated":{"line":1,"column":757}},{"source":"src/Agent.js","original":{"line":22,"column":25},"generated":{"line":1,"column":771}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":776}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":783}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":785}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":787}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":788}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":789}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":793}},{"source":"src/Agent.js","original":{"line":25,"column":2},"generated":{"line":1,"column":803}},{"source":"src/Agent.js","original":{"line":25,"column":2},"generated":{"line":1,"column":809}},{"source":"src/Agent.js","original":{"line":26,"column":4},"generated":{"line":1,"column":820}},{"source":"src/Agent.js","name":"stage","original":{"line":26,"column":9},"generated":{"line":1,"column":825}},{"source":"src/Agent.js","original":{"line":26,"column":17},"generated":{"line":1,"column":831}},{"source":"src/Agent.js","original":{"line":27,"column":4},"generated":{"line":1,"column":839}},{"source":"src/Agent.js","name":"cell","original":{"line":27,"column":9},"generated":{"line":1,"column":844}},{"source":"src/Agent.js","original":{"line":27,"column":16},"generated":{"line":1,"column":849}},{"source":"src/Agent.js","name":"spawn","original":{"line":27,"column":21},"generated":{"line":1,"column":854}},{"source":"src/Agent.js","original":{"line":28,"column":4},"generated":{"line":1,"column":860}},{"source":"src/Agent.js","name":"parked_cell","original":{"line":28,"column":9},"generated":{"line":1,"column":865}},{"source":"src/Agent.js","original":{"line":28,"column":23},"generated":{"line":1,"column":877}},{"source":"src/Agent.js","original":{"line":29,"column":4},"generated":{"line":1,"column":882}},{"source":"src/Agent.js","name":"move_to","original":{"line":29,"column":9},"generated":{"line":1,"column":887}},{"source":"src/Agent.js","original":{"line":29,"column":19},"generated":{"line":1,"column":895}},{"source":"src/Agent.js","original":{"line":30,"column":4},"generated":{"line":1,"column":900}},{"source":"src/Agent.js","name":"path","original":{"line":30,"column":9},"generated":{"line":1,"column":905}},{"source":"src/Agent.js","original":{"line":30,"column":16},"generated":{"line":1,"column":910}},{"source":"src/Agent.js","original":{"line":31,"column":4},"generated":{"line":1,"column":915}},{"source":"src/Agent.js","name":"calculatingPath","original":{"line":31,"column":9},"generated":{"line":1,"column":920}},{"source":"src/Agent.js","original":{"line":31,"column":27},"generated":{"line":1,"column":937}},{"source":"src/Agent.js","original":{"line":32,"column":4},"generated":{"line":1,"column":939}},{"source":"src/Agent.js","name":"ticks","original":{"line":32,"column":9},"generated":{"line":1,"column":944}},{"source":"src/Agent.js","original":{"line":32,"column":17},"generated":{"line":1,"column":950}},{"source":"src/Agent.js","original":{"line":33,"column":4},"generated":{"line":1,"column":952}},{"source":"src/Agent.js","name":"ticks_to_parked","original":{"line":33,"column":9},"generated":{"line":1,"column":957}},{"source":"src/Agent.js","original":{"line":33,"column":27},"generated":{"line":1,"column":973}},{"source":"src/Agent.js","original":{"line":34,"column":4},"generated":{"line":1,"column":978}},{"source":"src/Agent.js","name":"ticks_to_goal","original":{"line":34,"column":9},"generated":{"line":1,"column":983}},{"source":"src/Agent.js","original":{"line":34,"column":25},"generated":{"line":1,"column":997}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":1004}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":1005}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":1009}},{"source":"src/Agent.js","original":{"line":37,"column":2},"generated":{"line":1,"column":1025}},{"source":"src/Agent.js","original":{"line":37,"column":2},"generated":{"line":1,"column":1031}},{"source":"src/Agent.js","original":{"line":38,"column":4},"generated":{"line":1,"column":1042}},{"source":"src/Agent.js","original":{"line":38,"column":25},"generated":{"line":1,"column":1048}},{"source":"src/Agent.js","original":{"line":38,"column":11},"generated":{"line":1,"column":1057}},{"source":"src/Agent.js","name":"type","original":{"line":38,"column":16},"generated":{"line":1,"column":1062}},{"source":"src/Agent.js","original":{"line":39,"column":8},"generated":{"line":1,"column":1067}},{"source":"src/Agent.js","name":"world","original":{"line":39,"column":13},"generated":{"line":1,"column":1072}},{"source":"src/Agent.js","name":"bikePathfinder","original":{"line":39,"column":19},"generated":{"line":1,"column":1078}},{"source":"src/Agent.js","original":{"line":40,"column":8},"generated":{"line":1,"column":1093}},{"source":"src/Agent.js","name":"world","original":{"line":40,"column":13},"generated":{"line":1,"column":1098}},{"source":"src/Agent.js","name":"pedestrianPathfinder","original":{"line":40,"column":19},"generated":{"line":1,"column":1104}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":1127}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":1128}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":1132}},{"source":"src/Agent.js","original":{"line":43,"column":2},"generated":{"line":1,"column":1144}},{"source":"src/Agent.js","original":{"line":43,"column":2},"generated":{"line":1,"column":1150}},{"source":"src/Agent.js","original":{"line":44,"column":4},"generated":{"line":1,"column":1161}},{"source":"src/Agent.js","name":"ticks_to_parked","original":{"line":44,"column":9},"generated":{"line":1,"column":1166}},{"source":"src/Agent.js","original":{"line":44,"column":27},"generated":{"line":1,"column":1182}},{"source":"src/Agent.js","name":"ticks","original":{"line":44,"column":32},"generated":{"line":1,"column":1187}},{"source":"src/Agent.js","original":{"line":45,"column":4},"generated":{"line":1,"column":1194}},{"source":"src/Agent.js","name":"addTimeToPark","original":{"line":45,"column":4},"generated":{"line":1,"column":1196}},{"source":"src/Agent.js","original":{"line":45,"column":4},"generated":{"line":1,"column":1198}},{"source":"src/Agent.js","original":{"line":45,"column":18},"generated":{"line":1,"column":1213}},{"source":"src/Agent.js","name":"strategy","original":{"line":45,"column":23},"generated":{"line":1,"column":1218}},{"source":"src/Agent.js","original":{"line":45,"column":33},"generated":{"line":1,"column":1227}},{"source":"src/Agent.js","name":"ticks_to_parked","original":{"line":45,"column":38},"generated":{"line":1,"column":1232}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":1251}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":1252}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":1256}},{"source":"src/Agent.js","original":{"line":48,"column":2},"generated":{"line":1,"column":1273}},{"source":"src/Agent.js","original":{"line":48,"column":2},"generated":{"line":1,"column":1279}},{"source":"src/Agent.js","original":{"line":49,"column":4},"generated":{"line":1,"column":1290}},{"source":"src/Agent.js","name":"ticks_to_goal","original":{"line":49,"column":9},"generated":{"line":1,"column":1295}},{"source":"src/Agent.js","original":{"line":49,"column":25},"generated":{"line":1,"column":1309}},{"source":"src/Agent.js","name":"ticks","original":{"line":49,"column":30},"generated":{"line":1,"column":1314}},{"source":"src/Agent.js","original":{"line":50,"column":4},"generated":{"line":1,"column":1321}},{"source":"src/Agent.js","name":"addTimeToGoal","original":{"line":50,"column":4},"generated":{"line":1,"column":1323}},{"source":"src/Agent.js","original":{"line":50,"column":4},"generated":{"line":1,"column":1325}},{"source":"src/Agent.js","original":{"line":50,"column":18},"generated":{"line":1,"column":1340}},{"source":"src/Agent.js","name":"strategy","original":{"line":50,"column":23},"generated":{"line":1,"column":1345}},{"source":"src/Agent.js","original":{"line":50,"column":33},"generated":{"line":1,"column":1354}},{"source":"src/Agent.js","name":"ticks_to_goal","original":{"line":50,"column":38},"generated":{"line":1,"column":1359}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":1376}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":1377}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":1381}},{"source":"src/Agent.js","original":{"line":53,"column":2},"generated":{"line":1,"column":1388}},{"source":"src/Agent.js","original":{"line":53,"column":2},"generated":{"line":1,"column":1394}},{"source":"src/Agent.js","name":"location","original":{"line":53,"column":7},"generated":{"line":1,"column":1403}},{"source":"src/Agent.js","original":{"line":54,"column":4},"generated":{"line":1,"column":1406}},{"source":"src/Agent.js","original":{"line":54,"column":8},"generated":{"line":1,"column":1415}},{"source":"src/Agent.js","name":"cell","original":{"line":54,"column":13},"generated":{"line":1,"column":1420}},{"source":"src/Agent.js","name":"canPark","original":{"line":54,"column":18},"generated":{"line":1,"column":1425}},{"source":"src/Agent.js","original":{"line":56,"column":22},"generated":{"line":1,"column":1436}},{"source":"src/Agent.js","original":{"line":56,"column":8},"generated":{"line":1,"column":1445}},{"source":"src/Agent.js","name":"type","original":{"line":56,"column":13},"generated":{"line":1,"column":1450}},{"source":"src/Agent.js","original":{"line":57,"column":27},"generated":{"line":1,"column":1456}},{"source":"src/Agent.js","original":{"line":57,"column":8},"generated":{"line":1,"column":1468}},{"source":"src/Agent.js","name":"cell","original":{"line":57,"column":13},"generated":{"line":1,"column":1473}},{"source":"src/Agent.js","name":"type","original":{"line":57,"column":18},"generated":{"line":1,"column":1478}},{"source":"src/Agent.js","original":{"line":58,"column":29},"generated":{"line":1,"column":1484}},{"source":"src/Agent.js","original":{"line":58,"column":8},"generated":{"line":1,"column":1491}},{"source":"src/Agent.js","name":"parked_cell","original":{"line":58,"column":13},"generated":{"line":1,"column":1496}},{"source":"src/Agent.js","original":{"line":60,"column":8},"generated":{"line":1,"column":1511}},{"source":"src/Agent.js","name":"parked_cell","original":{"line":60,"column":13},"generated":{"line":1,"column":1516}},{"source":"src/Agent.js","original":{"line":60,"column":27},"generated":{"line":1,"column":1528}},{"source":"src/Agent.js","name":"cell","original":{"line":60,"column":32},"generated":{"line":1,"column":1533}},{"source":"src/Agent.js","original":{"line":61,"column":8},"generated":{"line":1,"column":1538}},{"source":"src/Agent.js","name":"type","original":{"line":61,"column":13},"generated":{"line":1,"column":1543}},{"source":"src/Agent.js","original":{"line":61,"column":20},"generated":{"line":1,"column":1548}},{"source":"src/Agent.js","original":{"line":62,"column":8},"generated":{"line":1,"column":1561}},{"source":"src/Agent.js","name":"cell","original":{"line":62,"column":13},"generated":{"line":1,"column":1566}},{"source":"src/Agent.js","name":"addBike","original":{"line":62,"column":18},"generated":{"line":1,"column":1571}},{"source":"src/Agent.js","original":{"line":63,"column":8},"generated":{"line":1,"column":1581}},{"source":"src/Agent.js","name":"world","original":{"line":63,"column":13},"generated":{"line":1,"column":1586}},{"source":"src/Agent.js","name":"addLotCapacity","original":{"line":63,"column":19},"generated":{"line":1,"column":1592}},{"source":"src/Agent.js","name":"location","original":{"line":63,"column":34},"generated":{"line":1,"column":1607}},{"source":"src/Agent.js","original":{"line":64,"column":8},"generated":{"line":1,"column":1610}},{"source":"src/Agent.js","name":"hasParked","original":{"line":64,"column":13},"generated":{"line":1,"column":1615}},{"source":"src/Agent.js","original":{"line":65,"column":15},"generated":{"line":1,"column":1628}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":1633}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":1634}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":1638}},{"source":"src/Agent.js","original":{"line":71,"column":2},"generated":{"line":1,"column":1647}},{"source":"src/Agent.js","original":{"line":71,"column":2},"generated":{"line":1,"column":1653}},{"source":"src/Agent.js","name":"location","original":{"line":71,"column":9},"generated":{"line":1,"column":1662}},{"source":"src/Agent.js","original":{"line":73,"column":20},"generated":{"line":1,"column":1665}},{"source":"src/Agent.js","original":{"line":73,"column":6},"generated":{"line":1,"column":1680}},{"source":"src/Agent.js","name":"type","original":{"line":73,"column":11},"generated":{"line":1,"column":1685}},{"source":"src/Agent.js","original":{"line":74,"column":25},"generated":{"line":1,"column":1691}},{"source":"src/Agent.js","original":{"line":74,"column":6},"generated":{"line":1,"column":1703}},{"source":"src/Agent.js","name":"cell","original":{"line":74,"column":11},"generated":{"line":1,"column":1708}},{"source":"src/Agent.js","name":"type","original":{"line":74,"column":16},"generated":{"line":1,"column":1713}},{"source":"src/Agent.js","original":{"line":75,"column":27},"generated":{"line":1,"column":1719}},{"source":"src/Agent.js","original":{"line":75,"column":6},"generated":{"line":1,"column":1726}},{"source":"src/Agent.js","name":"parked_cell","original":{"line":75,"column":11},"generated":{"line":1,"column":1731}},{"source":"src/Agent.js","original":{"line":77,"column":6},"generated":{"line":1,"column":1745}},{"source":"src/Agent.js","name":"cell","original":{"line":77,"column":11},"generated":{"line":1,"column":1750}},{"source":"src/Agent.js","name":"removeBike","original":{"line":77,"column":16},"generated":{"line":1,"column":1755}},{"source":"src/Agent.js","original":{"line":78,"column":6},"generated":{"line":1,"column":1768}},{"source":"src/Agent.js","name":"world","original":{"line":78,"column":11},"generated":{"line":1,"column":1773}},{"source":"src/Agent.js","name":"removeLotCapacity","original":{"line":78,"column":17},"generated":{"line":1,"column":1779}},{"source":"src/Agent.js","name":"location","original":{"line":78,"column":35},"generated":{"line":1,"column":1797}},{"source":"src/Agent.js","original":{"line":79,"column":6},"generated":{"line":1,"column":1800}},{"source":"src/Agent.js","name":"parked_cell","original":{"line":79,"column":11},"generated":{"line":1,"column":1805}},{"source":"src/Agent.js","original":{"line":79,"column":25},"generated":{"line":1,"column":1817}},{"source":"src/Agent.js","original":{"line":80,"column":6},"generated":{"line":1,"column":1822}},{"source":"src/Agent.js","name":"type","original":{"line":80,"column":11},"generated":{"line":1,"column":1827}},{"source":"src/Agent.js","original":{"line":80,"column":18},"generated":{"line":1,"column":1832}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":1842}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":1843}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":1847}},{"source":"src/Agent.js","original":{"line":84,"column":2},"generated":{"line":1,"column":1862}},{"source":"src/Agent.js","original":{"line":84,"column":2},"generated":{"line":1,"column":1868}},{"source":"src/Agent.js","name":"x","original":{"line":84,"column":15},"generated":{"line":1,"column":1877}},{"source":"src/Agent.js","name":"y","original":{"line":84,"column":18},"generated":{"line":1,"column":1879}},{"source":"src/Agent.js","name":"callback","original":{"line":84,"column":21},"generated":{"line":1,"column":1881}},{"source":"src/Agent.js","original":{"line":84,"column":31},"generated":{"line":1,"column":1884}},{"source":"src/Agent.js","original":{"line":84,"column":31},"generated":{"line":1,"column":1888}},{"source":"src/Agent.js","original":{"line":84,"column":31},"generated":{"line":1,"column":1890}},{"source":"src/Agent.js","original":{"line":85,"column":4},"generated":{"line":1,"column":1895}},{"source":"src/Agent.js","name":"calculatingPath","original":{"line":85,"column":9},"generated":{"line":1,"column":1900}},{"source":"src/Agent.js","original":{"line":85,"column":27},"generated":{"line":1,"column":1917}},{"source":"src/Agent.js","original":{"line":86,"column":4},"generated":{"line":1,"column":1919}},{"source":"src/Agent.js","name":"move_to","original":{"line":86,"column":9},"generated":{"line":1,"column":1924}},{"source":"src/Agent.js","original":{"line":86,"column":19},"generated":{"line":1,"column":1932}},{"source":"src/Agent.js","name":"x","original":{"line":86,"column":20},"generated":{"line":1,"column":1933}},{"source":"src/Agent.js","name":"y","original":{"line":86,"column":23},"generated":{"line":1,"column":1935}},{"source":"src/Agent.js","original":{"line":87,"column":4},"generated":{"line":1,"column":1938}},{"source":"src/Agent.js","name":"path","original":{"line":87,"column":9},"generated":{"line":1,"column":1943}},{"source":"src/Agent.js","original":{"line":87,"column":16},"generated":{"line":1,"column":1948}},{"source":"src/Agent.js","original":{"line":89,"column":4},"generated":{"line":1,"column":1953}},{"source":"src/Agent.js","name":"pathfinder","original":{"line":89,"column":10},"generated":{"line":1,"column":1957}},{"source":"src/Agent.js","original":{"line":89,"column":23},"generated":{"line":1,"column":1959}},{"source":"src/Agent.js","name":"getPathfinder","original":{"line":89,"column":28},"generated":{"line":1,"column":1964}},{"source":"src/Agent.js","name":"pathfinder","original":{"line":90,"column":4},"generated":{"line":1,"column":1980}},{"source":"src/Agent.js","name":"findPath","original":{"line":90,"column":15},"generated":{"line":1,"column":1982}},{"source":"src/Agent.js","original":{"line":91,"column":6},"generated":{"line":1,"column":1991}},{"source":"src/Agent.js","name":"cell","original":{"line":91,"column":11},"generated":{"line":1,"column":1996}},{"source":"src/Agent.js","name":"x","original":{"line":91,"column":16},"generated":{"line":1,"column":2001}},{"source":"src/Agent.js","original":{"line":92,"column":6},"generated":{"line":1,"column":2003}},{"source":"src/Agent.js","name":"cell","original":{"line":92,"column":11},"generated":{"line":1,"column":2008}},{"source":"src/Agent.js","name":"y","original":{"line":92,"column":16},"generated":{"line":1,"column":2013}},{"source":"src/Agent.js","original":{"line":93,"column":6},"generated":{"line":1,"column":2015}},{"source":"src/Agent.js","name":"move_to","original":{"line":93,"column":11},"generated":{"line":1,"column":2020}},{"source":"src/Agent.js","original":{"line":93,"column":19},"generated":{"line":1,"column":2028}},{"source":"src/Agent.js","original":{"line":94,"column":6},"generated":{"line":1,"column":2031}},{"source":"src/Agent.js","name":"move_to","original":{"line":94,"column":11},"generated":{"line":1,"column":2036}},{"source":"src/Agent.js","original":{"line":94,"column":19},"generated":{"line":1,"column":2044}},{"source":"src/Agent.js","original":{"line":95,"column":6},"generated":{"line":1,"column":2047}},{"source":"src/Agent.js","name":"path","original":{"line":95,"column":7},"generated":{"line":1,"column":2056}},{"source":"src/Agent.js","original":{"line":96,"column":21},"generated":{"line":1,"column":2059}},{"source":"src/Agent.js","name":"path","original":{"line":96,"column":12},"generated":{"line":1,"column":2066}},{"source":"src/Agent.js","original":{"line":97,"column":10},"generated":{"line":1,"column":2068}},{"source":"src/Agent.js","name":"path","original":{"line":97,"column":15},"generated":{"line":1,"column":2070}},{"source":"src/Agent.js","name":"path","original":{"line":97,"column":22},"generated":{"line":1,"column":2075}},{"source":"src/Agent.js","name":"console","original":{"line":99,"column":10},"generated":{"line":1,"column":2077}},{"source":"src/Agent.js","name":"log","original":{"line":99,"column":18},"generated":{"line":1,"column":2085}},{"source":"src/Agent.js","original":{"line":99,"column":22},"generated":{"line":1,"column":2089}},{"source":"src/Agent.js","original":{"line":101,"column":8},"generated":{"line":1,"column":2127}},{"source":"src/Agent.js","name":"calculatingPath","original":{"line":101,"column":13},"generated":{"line":1,"column":2129}},{"source":"src/Agent.js","original":{"line":101,"column":31},"generated":{"line":1,"column":2146}},{"source":"src/Agent.js","name":"callback","original":{"line":102,"column":12},"generated":{"line":1,"column":2148}},{"source":"src/Agent.js","original":{"line":102,"column":33},"generated":{"line":1,"column":2151}},{"source":"src/Agent.js","name":"path","original":{"line":102,"column":24},"generated":{"line":1,"column":2158}},{"source":"src/Agent.js","name":"callback","original":{"line":103,"column":10},"generated":{"line":1,"column":2161}},{"source":"src/Agent.js","name":"pathfinder","original":{"line":108,"column":4},"generated":{"line":1,"column":2167}},{"source":"src/Agent.js","name":"calculate","original":{"line":108,"column":15},"generated":{"line":1,"column":2169}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":2183}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":2184}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":2188}},{"source":"src/Agent.js","original":{"line":111,"column":2},"generated":{"line":1,"column":2199}},{"source":"src/Agent.js","original":{"line":111,"column":2},"generated":{"line":1,"column":2205}},{"source":"src/Agent.js","name":"nextCell","original":{"line":111,"column":11},"generated":{"line":1,"column":2214}},{"source":"src/Agent.js","name":"nextCell","original":{"line":112,"column":8},"generated":{"line":1,"column":2217}},{"source":"src/Agent.js","name":"checkAddAgent","original":{"line":112,"column":17},"generated":{"line":1,"column":2219}},{"source":"src/Agent.js","original":{"line":112,"column":31},"generated":{"line":1,"column":2233}},{"source":"src/Agent.js","original":{"line":113,"column":6},"generated":{"line":1,"column":2241}},{"source":"src/Agent.js","name":"world","original":{"line":113,"column":11},"generated":{"line":1,"column":2246}},{"source":"src/Agent.js","name":"moveAgent","original":{"line":113,"column":17},"generated":{"line":1,"column":2252}},{"source":"src/Agent.js","original":{"line":113,"column":27},"generated":{"line":1,"column":2262}},{"source":"src/Agent.js","name":"nextCell","original":{"line":113,"column":33},"generated":{"line":1,"column":2267}},{"source":"src/Agent.js","original":{"line":114,"column":6},"generated":{"line":1,"column":2270}},{"source":"src/Agent.js","name":"path","original":{"line":114,"column":11},"generated":{"line":1,"column":2275}},{"source":"src/Agent.js","name":"shift","original":{"line":114,"column":16},"generated":{"line":1,"column":2280}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":2291}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":2292}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":2296}},{"source":"src/Agent.js","original":{"line":118,"column":2},"generated":{"line":1,"column":2318}},{"source":"src/Agent.js","original":{"line":118,"column":2},"generated":{"line":1,"column":2324}},{"source":"src/Agent.js","name":"callback","original":{"line":118,"column":22},"generated":{"line":1,"column":2333}},{"source":"src/Agent.js","original":{"line":119,"column":4},"generated":{"line":1,"column":2336}},{"source":"src/Agent.js","original":{"line":120,"column":30},"generated":{"line":1,"column":2339}},{"source":"src/Agent.js","original":{"line":120,"column":6},"generated":{"line":1,"column":2342}},{"source":"src/Agent.js","name":"calculatingPath","original":{"line":120,"column":11},"generated":{"line":1,"column":2347}},{"source":"src/Agent.js","original":{"line":121,"column":20},"generated":{"line":1,"column":2364}},{"source":"src/Agent.js","original":{"line":121,"column":6},"generated":{"line":1,"column":2371}},{"source":"src/Agent.js","name":"path","original":{"line":121,"column":11},"generated":{"line":1,"column":2376}},{"source":"src/Agent.js","original":{"line":122,"column":6},"generated":{"line":1,"column":2382}},{"source":"src/Agent.js","name":"path","original":{"line":122,"column":11},"generated":{"line":1,"column":2387}},{"source":"src/Agent.js","name":"length","original":{"line":122,"column":16},"generated":{"line":1,"column":2392}},{"source":"src/Agent.js","original":{"line":122,"column":25},"generated":{"line":1,"column":2399}},{"source":"src/Agent.js","original":{"line":123,"column":6},"generated":{"line":1,"column":2401}},{"source":"src/Agent.js","original":{"line":124,"column":6},"generated":{"line":1,"column":2402}},{"source":"src/Agent.js","name":"nextCell","original":{"line":124,"column":12},"generated":{"line":1,"column":2406}},{"source":"src/Agent.js","original":{"line":124,"column":23},"generated":{"line":1,"column":2408}},{"source":"src/Agent.js","name":"world","original":{"line":124,"column":28},"generated":{"line":1,"column":2413}},{"source":"src/Agent.js","name":"getCellAtCoordinates","original":{"line":124,"column":34},"generated":{"line":1,"column":2419}},{"source":"src/Agent.js","original":{"line":125,"column":8},"generated":{"line":1,"column":2440}},{"source":"src/Agent.js","name":"path","original":{"line":125,"column":13},"generated":{"line":1,"column":2445}},{"source":"src/Agent.js","original":{"line":125,"column":18},"generated":{"line":1,"column":2450}},{"source":"src/Agent.js","name":"x","original":{"line":125,"column":21},"generated":{"line":1,"column":2453}},{"source":"src/Agent.js","original":{"line":126,"column":8},"generated":{"line":1,"column":2455}},{"source":"src/Agent.js","name":"path","original":{"line":126,"column":13},"generated":{"line":1,"column":2460}},{"source":"src/Agent.js","original":{"line":126,"column":18},"generated":{"line":1,"column":2465}},{"source":"src/Agent.js","name":"y","original":{"line":126,"column":21},"generated":{"line":1,"column":2468}},{"source":"src/Agent.js","original":{"line":128,"column":6},"generated":{"line":1,"column":2471}},{"source":"src/Agent.js","name":"makeMove","original":{"line":128,"column":11},"generated":{"line":1,"column":2476}},{"source":"src/Agent.js","name":"nextCell","original":{"line":128,"column":20},"generated":{"line":1,"column":2485}},{"source":"src/Agent.js","original":{"line":129,"column":39},"generated":{"line":1,"column":2493}},{"source":"src/Agent.js","original":{"line":129,"column":15},"generated":{"line":1,"column":2496}},{"source":"src/Agent.js","name":"calculatingPath","original":{"line":129,"column":20},"generated":{"line":1,"column":2501}},{"source":"src/Agent.js","name":"callback","original":{"line":130,"column":6},"generated":{"line":1,"column":2518}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":2524}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":2525}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":2529}},{"source":"src/Agent.js","original":{"line":134,"column":2},"generated":{"line":1,"column":2553}},{"source":"src/Agent.js","original":{"line":134,"column":2},"generated":{"line":1,"column":2559}},{"source":"src/Agent.js","original":{"line":134,"column":26},"generated":{"line":1,"column":2570}},{"source":"src/Agent.js","original":{"line":134,"column":26},"generated":{"line":1,"column":2574}},{"source":"src/Agent.js","original":{"line":134,"column":26},"generated":{"line":1,"column":2576}},{"source":"src/Agent.js","original":{"line":135,"column":4},"generated":{"line":1,"column":2581}},{"source":"src/Agent.js","original":{"line":135,"column":12},"generated":{"line":1,"column":2588}},{"source":"src/Agent.js","name":"stage","original":{"line":135,"column":17},"generated":{"line":1,"column":2593}},{"source":"src/Agent.js","original":{"line":136,"column":6},"generated":{"line":1,"column":2600}},{"source":"src/Agent.js","original":{"line":136,"column":11},"generated":{"line":1,"column":2604}},{"source":"src/Agent.js","original":{"line":137,"column":8},"generated":{"line":1,"column":2622}},{"source":"src/Agent.js","name":"buildingCell","original":{"line":137,"column":14},"generated":{"line":1,"column":2626}},{"source":"src/Agent.js","original":{"line":137,"column":29},"generated":{"line":1,"column":2628}},{"source":"src/Agent.js","name":"world","original":{"line":137,"column":34},"generated":{"line":1,"column":2633}},{"source":"src/Agent.js","name":"getRandomCellOfType","original":{"line":137,"column":40},"generated":{"line":1,"column":2639}},{"source":"src/Agent.js","original":{"line":138,"column":10},"generated":{"line":1,"column":2659}},{"source":"src/Agent.js","original":{"line":140,"column":8},"generated":{"line":1,"column":2680}},{"source":"src/Agent.js","name":"changeMoveTo","original":{"line":140,"column":13},"generated":{"line":1,"column":2685}},{"source":"src/Agent.js","name":"buildingCell","original":{"line":140,"column":26},"generated":{"line":1,"column":2698}},{"source":"src/Agent.js","name":"x","original":{"line":140,"column":39},"generated":{"line":1,"column":2700}},{"source":"src/Agent.js","name":"buildingCell","original":{"line":140,"column":42},"generated":{"line":1,"column":2702}},{"source":"src/Agent.js","name":"y","original":{"line":140,"column":55},"generated":{"line":1,"column":2704}},{"source":"src/Agent.js","original":{"line":140,"column":58},"generated":{"line":1,"column":2706}},{"source":"src/Agent.js","original":{"line":141,"column":10},"generated":{"line":1,"column":2717}},{"source":"src/Agent.js","name":"stage","original":{"line":141,"column":15},"generated":{"line":1,"column":2719}},{"source":"src/Agent.js","original":{"line":141,"column":23},"generated":{"line":1,"column":2725}},{"source":"src/Agent.js","original":{"line":143,"column":8},"generated":{"line":1,"column":2744}},{"source":"src/Agent.js","original":{"line":144,"column":6},"generated":{"line":1,"column":2750}},{"source":"src/Agent.js","original":{"line":144,"column":11},"generated":{"line":1,"column":2754}},{"source":"src/Agent.js","original":{"line":145,"column":8},"generated":{"line":1,"column":2771}},{"source":"src/Agent.js","name":"executePathSequence","original":{"line":145,"column":13},"generated":{"line":1,"column":2776}},{"source":"src/Agent.js","original":{"line":145,"column":33},"generated":{"line":1,"column":2796}},{"source":"src/Agent.js","original":{"line":146,"column":10},"generated":{"line":1,"column":2807}},{"source":"src/Agent.js","name":"stage","original":{"line":146,"column":15},"generated":{"line":1,"column":2809}},{"source":"src/Agent.js","original":{"line":146,"column":23},"generated":{"line":1,"column":2815}},{"source":"src/Agent.js","original":{"line":147,"column":10},"generated":{"line":1,"column":2825}},{"source":"src/Agent.js","name":"hasReachedGoal","original":{"line":147,"column":15},"generated":{"line":1,"column":2827}},{"source":"src/Agent.js","original":{"line":149,"column":8},"generated":{"line":1,"column":2846}},{"source":"src/Agent.js","original":{"line":150,"column":6},"generated":{"line":1,"column":2852}},{"source":"src/Agent.js","original":{"line":150,"column":11},"generated":{"line":1,"column":2856}},{"source":"src/Agent.js","name":"Math","original":{"line":151,"column":12},"generated":{"line":1,"column":2866}},{"source":"src/Agent.js","name":"random","original":{"line":151,"column":17},"generated":{"line":1,"column":2871}},{"source":"src/Agent.js","original":{"line":151,"column":28},"generated":{"line":1,"column":2880}},{"source":"src/Agent.js","name":"exitRate","original":{"line":151,"column":33},"generated":{"line":1,"column":2885}},{"source":"src/Agent.js","original":{"line":152,"column":10},"generated":{"line":1,"column":2896}},{"source":"src/Agent.js","name":"stage","original":{"line":152,"column":15},"generated":{"line":1,"column":2901}},{"source":"src/Agent.js","original":{"line":152,"column":23},"generated":{"line":1,"column":2907}},{"source":"src/Agent.js","original":{"line":154,"column":8},"generated":{"line":1,"column":2923}},{"source":"src/Agent.js","original":{"line":155,"column":6},"generated":{"line":1,"column":2929}},{"source":"src/Agent.js","original":{"line":155,"column":11},"generated":{"line":1,"column":2933}},{"source":"src/Agent.js","original":{"line":156,"column":8},"generated":{"line":1,"column":2948}},{"source":"src/Agent.js","name":"changeMoveTo","original":{"line":156,"column":13},"generated":{"line":1,"column":2953}},{"source":"src/Agent.js","original":{"line":156,"column":26},"generated":{"line":1,"column":2966}},{"source":"src/Agent.js","name":"parked_cell","original":{"line":156,"column":31},"generated":{"line":1,"column":2971}},{"source":"src/Agent.js","name":"x","original":{"line":156,"column":43},"generated":{"line":1,"column":2983}},{"source":"src/Agent.js","original":{"line":156,"column":46},"generated":{"line":1,"column":2985}},{"source":"src/Agent.js","name":"parked_cell","original":{"line":156,"column":51},"generated":{"line":1,"column":2990}},{"source":"src/Agent.js","name":"y","original":{"line":156,"column":63},"generated":{"line":1,"column":3002}},{"source":"src/Agent.js","original":{"line":156,"column":66},"generated":{"line":1,"column":3004}},{"source":"src/Agent.js","original":{"line":157,"column":10},"generated":{"line":1,"column":3015}},{"source":"src/Agent.js","name":"stage","original":{"line":157,"column":15},"generated":{"line":1,"column":3017}},{"source":"src/Agent.js","original":{"line":157,"column":23},"generated":{"line":1,"column":3023}},{"source":"src/Agent.js","original":{"line":159,"column":8},"generated":{"line":1,"column":3053}},{"source":"src/Agent.js","original":{"line":160,"column":6},"generated":{"line":1,"column":3059}},{"source":"src/Agent.js","original":{"line":160,"column":11},"generated":{"line":1,"column":3063}},{"source":"src/Agent.js","original":{"line":161,"column":8},"generated":{"line":1,"column":3091}},{"source":"src/Agent.js","name":"executePathSequence","original":{"line":161,"column":13},"generated":{"line":1,"column":3096}},{"source":"src/Agent.js","original":{"line":161,"column":33},"generated":{"line":1,"column":3116}},{"source":"src/Agent.js","original":{"line":162,"column":10},"generated":{"line":1,"column":3127}},{"source":"src/Agent.js","name":"stage","original":{"line":162,"column":15},"generated":{"line":1,"column":3129}},{"source":"src/Agent.js","original":{"line":162,"column":23},"generated":{"line":1,"column":3135}},{"source":"src/Agent.js","original":{"line":164,"column":8},"generated":{"line":1,"column":3149}},{"source":"src/Agent.js","original":{"line":165,"column":6},"generated":{"line":1,"column":3155}},{"source":"src/Agent.js","original":{"line":165,"column":11},"generated":{"line":1,"column":3159}},{"source":"src/Agent.js","original":{"line":166,"column":8},"generated":{"line":1,"column":3171}},{"source":"src/Agent.js","name":"unpark","original":{"line":166,"column":13},"generated":{"line":1,"column":3176}},{"source":"src/Agent.js","original":{"line":166,"column":20},"generated":{"line":1,"column":3183}},{"source":"src/Agent.js","name":"lotChoice","original":{"line":166,"column":25},"generated":{"line":1,"column":3188}},{"source":"src/Agent.js","original":{"line":167,"column":8},"generated":{"line":1,"column":3199}},{"source":"src/Agent.js","name":"stage","original":{"line":167,"column":13},"generated":{"line":1,"column":3204}},{"source":"src/Agent.js","original":{"line":167,"column":21},"generated":{"line":1,"column":3210}},{"source":"src/Agent.js","original":{"line":168,"column":8},"generated":{"line":1,"column":3220}},{"source":"src/Agent.js","original":{"line":169,"column":6},"generated":{"line":1,"column":3226}},{"source":"src/Agent.js","original":{"line":169,"column":11},"generated":{"line":1,"column":3230}},{"source":"src/Agent.js","original":{"line":170,"column":8},"generated":{"line":1,"column":3240}},{"source":"src/Agent.js","name":"changeMoveTo","original":{"line":170,"column":13},"generated":{"line":1,"column":3245}},{"source":"src/Agent.js","original":{"line":170,"column":26},"generated":{"line":1,"column":3258}},{"source":"src/Agent.js","name":"spawn","original":{"line":170,"column":31},"generated":{"line":1,"column":3263}},{"source":"src/Agent.js","name":"x","original":{"line":170,"column":37},"generated":{"line":1,"column":3269}},{"source":"src/Agent.js","original":{"line":170,"column":40},"generated":{"line":1,"column":3271}},{"source":"src/Agent.js","name":"spawn","original":{"line":170,"column":45},"generated":{"line":1,"column":3276}},{"source":"src/Agent.js","name":"y","original":{"line":170,"column":51},"generated":{"line":1,"column":3282}},{"source":"src/Agent.js","original":{"line":170,"column":54},"generated":{"line":1,"column":3284}},{"source":"src/Agent.js","original":{"line":171,"column":10},"generated":{"line":1,"column":3295}},{"source":"src/Agent.js","name":"stage","original":{"line":171,"column":15},"generated":{"line":1,"column":3297}},{"source":"src/Agent.js","original":{"line":171,"column":23},"generated":{"line":1,"column":3303}},{"source":"src/Agent.js","original":{"line":173,"column":8},"generated":{"line":1,"column":3322}},{"source":"src/Agent.js","original":{"line":174,"column":6},"generated":{"line":1,"column":3328}},{"source":"src/Agent.js","original":{"line":174,"column":11},"generated":{"line":1,"column":3332}},{"source":"src/Agent.js","original":{"line":175,"column":8},"generated":{"line":1,"column":3349}},{"source":"src/Agent.js","name":"executePathSequence","original":{"line":175,"column":13},"generated":{"line":1,"column":3354}},{"source":"src/Agent.js","original":{"line":175,"column":33},"generated":{"line":1,"column":3374}},{"source":"src/Agent.js","original":{"line":176,"column":10},"generated":{"line":1,"column":3385}},{"source":"src/Agent.js","name":"stage","original":{"line":176,"column":15},"generated":{"line":1,"column":3387}},{"source":"src/Agent.js","original":{"line":176,"column":23},"generated":{"line":1,"column":3393}},{"source":"src/Agent.js","original":{"line":178,"column":8},"generated":{"line":1,"column":3405}},{"source":"src/Agent.js","original":{"line":179,"column":6},"generated":{"line":1,"column":3411}},{"source":"src/Agent.js","original":{"line":179,"column":11},"generated":{"line":1,"column":3415}},{"source":"src/Agent.js","original":{"line":180,"column":8},"generated":{"line":1,"column":3425}},{"source":"src/Agent.js","name":"stage","original":{"line":180,"column":13},"generated":{"line":1,"column":3430}},{"source":"src/Agent.js","original":{"line":180,"column":21},"generated":{"line":1,"column":3436}},{"source":"src/Agent.js","original":{"line":181,"column":8},"generated":{"line":1,"column":3444}},{"source":"src/Agent.js","name":"world","original":{"line":181,"column":13},"generated":{"line":1,"column":3449}},{"source":"src/Agent.js","name":"removeAgent","original":{"line":181,"column":19},"generated":{"line":1,"column":3455}},{"source":"src/Agent.js","original":{"line":181,"column":31},"generated":{"line":1,"column":3467}},{"source":"src/Agent.js","original":{"line":182,"column":8},"generated":{"line":1,"column":3473}},{"source":"src/Agent.js","original":{"line":183,"column":6},"generated":{"line":1,"column":3479}},{"source":"src/Agent.js","name":"console","original":{"line":184,"column":8},"generated":{"line":1,"column":3487}},{"source":"src/Agent.js","name":"log","original":{"line":184,"column":16},"generated":{"line":1,"column":3495}},{"source":"src/Agent.js","original":{"line":184,"column":20},"generated":{"line":1,"column":3499}},{"source":"src/Agent.js","original":{"line":184,"column":39},"generated":{"line":1,"column":3517}},{"source":"src/Agent.js","name":"stage","original":{"line":184,"column":44},"generated":{"line":1,"column":3522}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":3532}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":3533}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":3537}},{"source":"src/Agent.js","original":{"line":193,"column":2},"generated":{"line":1,"column":3548}},{"source":"src/Agent.js","original":{"line":193,"column":2},"generated":{"line":1,"column":3554}},{"source":"src/Agent.js","original":{"line":194,"column":4},"generated":{"line":1,"column":3565}},{"source":"src/Agent.js","name":"ticks","original":{"line":194,"column":9},"generated":{"line":1,"column":3570}},{"source":"src/Agent.js","original":{"line":194,"column":18},"generated":{"line":1,"column":3577}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":3581}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":3582}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":3586}},{"source":"src/Agent.js","original":{"line":197,"column":2},"generated":{"line":1,"column":3592}},{"source":"src/Agent.js","original":{"line":197,"column":2},"generated":{"line":1,"column":3598}},{"source":"src/Agent.js","name":"console","original":{"line":198,"column":4},"generated":{"line":1,"column":3609}},{"source":"src/Agent.js","name":"warn","original":{"line":198,"column":12},"generated":{"line":1,"column":3617}},{"source":"src/Agent.js","original":{"line":198,"column":17},"generated":{"line":1,"column":3622}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":3662}},{"source":"src/Agent.js","name":"Agent","original":{"line":3,"column":6},"generated":{"line":1,"column":3664}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":3667}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":3669}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":3671}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":3679}},{"source":"src/Agent.js","name":"Agent","original":{"line":202,"column":15},"generated":{"line":1,"column":3687}}],"sources":{"src/Agent.js":"import { addTimeToPark, addTimeToGoal } from \"./index\";\n\nclass Agent {\n  constructor(world, type, cell, strategy) {\n    this.world = world;\n    this.type = type;\n    this.spawn = cell;\n    this.cell = cell;\n    this.parked_cell = null;\n    this.strategy = strategy;\n    this.move_to = null;\n    this.exitRate = 0.01; // The rate at which agents leave the building across stragegies.\n\n    // This is for storing the calculated path\n    // and not recalculating it every tick\n    this.path = null;\n    this.calculatingPath = false;\n    this.stage = \"SPAWN\";\n\n    this.ticks = 0;\n    this.ticks_to_parked = null;\n    this.ticks_to_goal = null;\n  }\n\n  respawn() {\n    this.stage = \"SPAWN\";\n    this.cell = this.spawn;\n    this.parked_cell = null;\n    this.move_to = null;\n    this.path = null;\n    this.calculatingPath = false;\n    this.ticks = 0;\n    this.ticks_to_parked = null;\n    this.ticks_to_goal = null;\n  }\n\n  getPathfinder() {\n    return this.type === \"BIKE\"\n      ? this.world.bikePathfinder\n      : this.world.pedestrianPathfinder;\n  }\n\n  hasParked() {\n    this.ticks_to_parked = this.ticks;\n    addTimeToPark(this.strategy, this.ticks_to_parked);\n  }\n\n  hasReachedGoal() {\n    this.ticks_to_goal = this.ticks;\n    addTimeToGoal(this.strategy, this.ticks_to_goal);\n  }\n\n  park(location) {\n    if (this.cell.canPark()) {\n      if (\n        this.type === \"BIKE\" &&\n        this.cell.type === \"PARKING\" &&\n        this.parked_cell === null\n      ) {\n        this.parked_cell = this.cell;\n        this.type = \"PEDESTRIAN\";\n        this.cell.addBike();\n        this.world.addLotCapacity(location);\n        this.hasParked();\n        return true;\n      }\n    }\n    return false;\n  }\n\n  unpark(location) {\n    if (\n      this.type === \"PEDESTRIAN\" &&\n      this.cell.type === \"PARKING\" &&\n      this.parked_cell !== null\n    ) {\n      this.cell.removeBike();\n      this.world.removeLotCapacity(location);\n      this.parked_cell = null;\n      this.type = \"BIKE\";\n    }\n  }\n\n  changeMoveTo(x, y, callback) {\n    this.calculatingPath = true;\n    this.move_to = [x, y];\n    this.path = null;\n\n    const pathfinder = this.getPathfinder();\n    pathfinder.findPath(\n      this.cell.x,\n      this.cell.y,\n      this.move_to[0],\n      this.move_to[1],\n      (path) => {\n        if (path !== null) {\n          this.path = path;\n        } else {\n          console.log(\"Agent has no way to reach its goal\");\n        }\n        this.calculatingPath = false;\n        if (callback && path !== null) {\n          callback();\n        }\n      }\n    );\n\n    pathfinder.calculate();\n  }\n\n  makeMove(nextCell) {\n    if (nextCell.checkAddAgent(this)) {\n      this.world.moveAgent(this, nextCell);\n      this.path.shift();\n    }\n  }\n\n  executePathSequence(callback) {\n    if (\n      this.calculatingPath == false &&\n      this.path !== null &&\n      this.path.length > 0\n    ) {\n      const nextCell = this.world.getCellAtCoordinates(\n        this.path[0].x,\n        this.path[0].y\n      );\n      this.makeMove(nextCell);\n    } else if (this.calculatingPath == false) {\n      callback();\n    }\n  }\n\n  finishedParkingStages() {\n    switch (this.stage) {\n      case \"LEAVING_PARKING\":\n        const buildingCell = this.world.getRandomCellOfType(\n          \"BUILDING_ENTRANCE\"\n        );\n        this.changeMoveTo(buildingCell.x, buildingCell.y, () => {\n          this.stage = \"MOVING_TO_GOAL\";\n        });\n        break;\n      case \"MOVING_TO_GOAL\":\n        this.executePathSequence(() => {\n          this.stage = \"IN_GOAL\";\n          this.hasReachedGoal();\n        });\n        break;\n      case \"IN_GOAL\":\n        if (Math.random() < this.exitRate) {\n          this.stage = \"LEAVING_GOAL\";\n        }\n        break;\n      case \"LEAVING_GOAL\":\n        this.changeMoveTo(this.parked_cell.x, this.parked_cell.y, () => {\n          this.stage = \"MOVING_TO_PARKING_LEAVING\";\n        });\n        break;\n      case \"MOVING_TO_PARKING_LEAVING\":\n        this.executePathSequence(() => {\n          this.stage = \"UNPARKING\";\n        });\n        break;\n      case \"UNPARKING\":\n        this.unpark(this.lotChoice);\n        this.stage = \"LEAVING\";\n        break;\n      case \"LEAVING\":\n        this.changeMoveTo(this.spawn.x, this.spawn.y, () => {\n          this.stage = \"MOVING_TO_EXIT\";\n        });\n        break;\n      case \"MOVING_TO_EXIT\":\n        this.executePathSequence(() => {\n          this.stage = \"DESPAWN\";\n        });\n        break;\n      case \"DESPAWN\":\n        this.stage = \"SPAWN\";\n        this.world.removeAgent(this);\n        break;\n      default:\n        console.log(\"Unknown stage: \", this.stage);\n        break;\n    }\n  }\n\n  ////////////////////////\n  // STRATEGY EXECUTION //\n  ////////////////////////\n\n  startAct() {\n    this.ticks += 1;\n  }\n\n  act() {\n    console.warn(\"Agent.act() should be overridden\");\n  }\n}\n\nexport default Agent;\n"},"lineCount":null}},"error":null,"hash":"5f6d88f0ccf2bbe43912fa18ee54d073","cacheData":{"env":{}}}